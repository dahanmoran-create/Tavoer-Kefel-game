<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ×œ×•×— ×”×›×¤×œ - ×ª×‘×•×¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            position: relative;
        }

        .header {
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.5em;
            color: #4a5568;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .subtitle {
            color: #718096;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .level-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .level-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            border: none;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            font-weight: bold;
            color: #2d3748;
        }

        .level-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .level-card.level-1 { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); }
        .level-card.level-2 { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .level-card.level-3 { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .level-card.level-4 { background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%); }
        .level-card.level-5 { background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); }

        .question-container {
            display: none;
            text-align: center;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .question-number {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .answer-btn {
            background: #f7fafc;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.3em;
            font-weight: bold;
            color: #2d3748;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .answer-btn:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
            transform: translateY(-2px);
        }

        .answer-btn.correct {
            background: #c6f6d5;
            border-color: #38a169;
            color: #22543d;
        }

        .answer-btn.incorrect {
            background: #fed7d7;
            border-color: #e53e3e;
            color: #742a2a;
        }

        .feedback {
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: bold;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
            border: 2px solid #38a169;
        }

        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
            border: 2px solid #e53e3e;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .progress-bar {
            background: #e2e8f0;
            height: 10px;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .summary {
            display: none;
            text-align: center;
            animation: slideIn 0.5s ease-in-out;
        }

        .summary-title {
            font-size: 2.5em;
            color: #4a5568;
            margin-bottom: 20px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            font-weight: bold;
            color: #2d3748;
            margin: 20px auto;
        }

        .emoji {
            font-size: 1.5em;
            margin: 0 5px;
        }

        .hidden {
            display: none;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #e2e8f0;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.5em;
            color: #4a5568;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #cbd5e0;
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <button class="back-btn" onclick="goHome()" style="display: none;">ğŸ </button>
        
        <!-- ××¡×š ×¨××©×™ -->
        <div id="homeScreen" class="home-screen">
            <div class="header">
                <h1 class="title">ğŸ¯ ××©×—×§ ×œ×•×— ×”×›×¤×œ - ×ª×‘×•×¨</h1>
                <p class="subtitle">×‘×—×¨ ×¨××ª ×§×•×©×™ ×¢×‘×•×¨ ×”× ×•×©× ×©×‘×—×¨×ª âœ¨</p>
            </div>
            
            <div class="level-selector">
                <button class="level-card level-1" onclick="startLevel(1)">
                    <div>×¨××” 1</div>
                    <div style="font-size: 0.9em; margin-top: 5px;">×œ×•×—×•×ª 1-3</div>
                    <div style="font-size: 0.8em; color: #666;">×ª×¨×’×™×œ×™× ×¤×©×•×˜×™×</div>
                </button>
                
                <button class="level-card level-2" onclick="startLevel(2)">
                    <div>×¨××” 2</div>
                    <div style="font-size: 0.9em; margin-top: 5px;">×œ×•×—×•×ª 4-6</div>
                    <div style="font-size: 0.8em; color: #666;">×ª×¨×’×™×œ×™× ×‘×™× ×•× ×™×™×</div>
                </button>
                
                <button class="level-card level-3" onclick="startLevel(3)">
                    <div>×¨××” 3</div>
                    <div style="font-size: 0.9em; margin-top: 5px;">×œ×•×—×•×ª 7-10</div>
                    <div style="font-size: 0.8em; color: #666;">×ª×¨×’×™×œ×™× ××ª×§×“××™×</div>
                </button>
                
                <button class="level-card level-4" onclick="startLevel(4)">
                    <div>×¨××” 4</div>
                    <div style="font-size: 0.9em; margin-top: 5px;">×›×¤×œ ×•×—×™×œ×•×§</div>
                    <div style="font-size: 0.8em; color: #666;">×¢×“ 100</div>
                </button>
                
                <button class="level-card level-5" onclick="startLevel(5)">
                    <div>×¨××” 5</div>
                    <div style="font-size: 0.9em; margin-top: 5px;">×¤×¢×•×œ×•×ª ××¢×•×¨×‘×•×ª</div>
                    <div style="font-size: 0.8em; color: #666;">×›×œ ×”×¤×¢×•×œ×•×ª</div>
                </button>
            </div>
        </div>

        <!-- ××¡×š ×”×©××œ×•×ª -->
        <div id="gameScreen" class="question-container">
            <div class="question-header">
                <div class="question-number" id="questionNumber">×¨××” 1 - ×©××œ×” 1</div>
                <div class="question-text" id="questionText">×›××” ×–×” 2Ã—3?</div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="answers-grid" id="answersGrid">
                <button class="answer-btn" onclick="selectAnswer(0, this)">×. 5</button>
                <button class="answer-btn" onclick="selectAnswer(1, this)">×‘. 6</button>
                <button class="answer-btn" onclick="selectAnswer(2, this)">×’. 7</button>
                <button class="answer-btn" onclick="selectAnswer(3, this)">×“. 8</button>
            </div>
            
            <div class="feedback" id="feedback"></div>
            
            <button class="btn-primary" id="nextBtn" onclick="nextQuestion()" style="display: none;">×”×©××œ×” ×”×‘××”</button>
        </div>

        <!-- ××¡×š ×¡×™×›×•× ×”×¨××” -->
        <div id="summaryScreen" class="summary">
            <h2 class="summary-title">ğŸ‰ ×¡×™×™××ª ××ª ×”×¨××”!</h2>
            
            <div class="score-circle" id="scoreCircle">12/15</div>
            
            <div id="summaryText">
                <p style="font-size: 1.3em; margin: 20px 0;">× ×”×“×¨! ×¤×ª×¨×ª × ×›×•×Ÿ 12 ××ª×•×š 15 ×©××œ×•×ª</p>
                <p style="color: #666; margin: 15px 0;">×”××©×š ×›×š ×•×”×›×œ ×™×¡×ª×“×¨! ğŸ’ª</p>
            </div>
            
            <div style="margin: 30px 0;">
                <button class="btn-primary" onclick="nextLevel()">×¢×‘×•×¨ ×œ×¨××” ×”×‘××”</button>
                <button class="btn-primary" onclick="goHome()">×—×–×•×¨ ×œ×ª×¤×¨×™×˜ ×”×¨××©×™</button>
            </div>
        </div>
    </div>

    <script>
        // ××©×ª× ×™× ×’×œ×•×‘×œ×™×™×
        let currentLevel = 1;
        let currentQuestion = 1;
        let correctAnswers = 0;
        let questions = [];
        let currentQuestionIndex = 0;

        // ×‘× ×§×™ ×©××œ×•×ª ×œ×›×œ ×¨××”
        const levelQuestions = {
            1: [ // ×¨××” 1: ×œ×•×—×•×ª 1-3
                {q: "×›××” ×–×” 1Ã—5?", answers: ["3", "4", "5", "6"], correct: 2, explanation: "1 ×›×¤×•×œ ×›×œ ××¡×¤×¨ ×©×•×•×” ×œ××•×ª×• ××¡×¤×¨"},
                {q: "×›××” ×–×” 2Ã—4?", answers: ["6", "8", "10", "12"], correct: 1, explanation: "2 ×¤×¢××™× 4 ×–×” 8, ×›×™ 4+4=8"},
                {q: "×›××” ×–×” 3Ã—3?", answers: ["6", "9", "12", "15"], correct: 1, explanation: "3 ×¤×¢××™× 3 ×–×” 9, ×›×™ 3+3+3=9"},
                {q: "×›××” ×–×” 2Ã—6?", answers: ["10", "12", "14", "16"], correct: 1, explanation: "2 ×¤×¢××™× 6 ×–×” 12"},
                {q: "×›××” ×–×” 1Ã—8?", answers: ["7", "8", "9", "10"], correct: 1, explanation: "1 ×›×¤×•×œ ×›×œ ××¡×¤×¨ × ×•×ª×Ÿ ××ª ××•×ª×• ××¡×¤×¨"},
                {q: "×›××” ×–×” 3Ã—5?", answers: ["12", "15", "18", "21"], correct: 1, explanation: "3 ×¤×¢××™× 5 ×–×” 15"},
                {q: "×›××” ×–×” 2Ã—7?", answers: ["12", "14", "16", "18"], correct: 1, explanation: "2 ×¤×¢××™× 7 ×–×” 14"},
                {q: "×›××” ×–×” 3Ã—4?", answers: ["10", "12", "14", "16"], correct: 1, explanation: "3 ×¤×¢××™× 4 ×–×” 12"},
                {q: "×›××” ×–×” 1Ã—10?", answers: ["9", "10", "11", "12"], correct: 1, explanation: "1 ×›×¤×•×œ 10 ×–×” 10"},
                {q: "×›××” ×–×” 2Ã—9?", answers: ["16", "18", "20", "22"], correct: 1, explanation: "2 ×¤×¢××™× 9 ×–×” 18"},
                {q: "×›××” ×–×” 3Ã—7?", answers: ["18", "21", "24", "27"], correct: 1, explanation: "3 ×¤×¢××™× 7 ×–×” 21"},
                {q: "×›××” ×–×” 2Ã—5?", answers: ["8", "10", "12", "14"], correct: 1, explanation: "2 ×¤×¢××™× 5 ×–×” 10"},
                {q: "×›××” ×–×” 3Ã—6?", answers: ["15", "18", "21", "24"], correct: 1, explanation: "3 ×¤×¢××™× 6 ×–×” 18"},
                {q: "××” ×’×“×•×œ ×™×•×ª×¨: 2Ã—8 ××• 3Ã—5?", answers: ["2Ã—8", "3Ã—5", "×©×•×•×™×", "×œ× ×‘×¨×•×¨"], correct: 0, explanation: "2Ã—8=16 ×•-3Ã—5=15, ××– 2Ã—8 ×’×“×•×œ ×™×•×ª×¨"},
                {q: "×›××” ×–×” 3Ã—8?", answers: ["21", "24", "27", "30"], correct: 1, explanation: "3 ×¤×¢××™× 8 ×–×” 24"}
            ],
            2: [ // ×¨××” 2: ×œ×•×—×•×ª 4-6
                {q: "×›××” ×–×” 4Ã—4?", answers: ["12", "16", "20", "24"], correct: 1, explanation: "4 ×¤×¢××™× 4 ×–×” 16"},
                {q: "×›××” ×–×” 5Ã—5?", answers: ["20", "25", "30", "35"], correct: 1, explanation: "5 ×¤×¢××™× 5 ×–×” 25 - ××¡×¤×¨ ××¨×‘×¢ × ×”×“×¨!"},
                {q: "×›××” ×–×” 6Ã—3?", answers: ["15", "18", "21", "24"], correct: 1, explanation: "6 ×¤×¢××™× 3 ×–×” 18"},
                {q: "×›××” ×–×” 4Ã—7?", answers: ["24", "28", "32", "36"], correct: 1, explanation: "4 ×¤×¢××™× 7 ×–×” 28"},
                {q: "×›××” ×–×” 5Ã—6?", answers: ["25", "30", "35", "40"], correct: 1, explanation: "5 ×¤×¢××™× 6 ×–×” 30"},
                {q: "×›××” ×–×” 6Ã—4?", answers: ["20", "24", "28", "32"], correct: 1, explanation: "6 ×¤×¢××™× 4 ×–×” 24"},
                {q: "×›××” ×–×” 4Ã—8?", answers: ["28", "32", "36", "40"], correct: 1, explanation: "4 ×¤×¢××™× 8 ×–×” 32"},
                {q: "×›××” ×–×” 5Ã—7?", answers: ["30", "35", "40", "45"], correct: 1, explanation: "5 ×¤×¢××™× 7 ×–×” 35"},
                {q: "×›××” ×–×” 6Ã—6?", answers: ["30", "36", "42", "48"], correct: 1, explanation: "6 ×¤×¢××™× 6 ×–×” 36 - ×¢×•×“ ××¡×¤×¨ ××¨×‘×¢!"},
                {q: "×›××” ×–×” 4Ã—9?", answers: ["32", "36", "40", "44"], correct: 1, explanation: "4 ×¤×¢××™× 9 ×–×” 36"},
                {q: "×›××” ×–×” 5Ã—8?", answers: ["35", "40", "45", "50"], correct: 1, explanation: "5 ×¤×¢××™× 8 ×–×” 40"},
                {q: "×›××” ×–×” 6Ã—7?", answers: ["38", "42", "46", "50"], correct: 1, explanation: "6 ×¤×¢××™× 7 ×–×” 42"},
                {q: "×›××” ×–×” 4Ã—10?", answers: ["35", "40", "45", "50"], correct: 1, explanation: "4 ×¤×¢××™× 10 ×–×” 40"},
                {q: "××” ×’×“×•×œ ×™×•×ª×¨: 5Ã—9 ××• 6Ã—8?", answers: ["5Ã—9", "6Ã—8", "×©×•×•×™×", "×œ× ×‘×¨×•×¨"], correct: 2, explanation: "5Ã—9=45 ×•-6Ã—8=48, ××– 6Ã—8 ×’×“×•×œ ×™×•×ª×¨"},
                {q: "×›××” ×–×” 6Ã—9?", answers: ["48", "54", "60", "66"], correct: 1, explanation: "6 ×¤×¢××™× 9 ×–×” 54"}
            ],
            3: [ // ×¨××” 3: ×œ×•×—×•×ª 7-10
                {q: "×›××” ×–×” 7Ã—7?", answers: ["42", "49", "56", "63"], correct: 1, explanation: "7 ×¤×¢××™× 7 ×–×” 49 - ××¡×¤×¨ ××¨×‘×¢ ××™×•×—×“!"},
                {q: "×›××” ×–×” 8Ã—8?", answers: ["56", "64", "72", "80"], correct: 1, explanation: "8 ×¤×¢××™× 8 ×–×” 64"},
                {q: "×›××” ×–×” 9Ã—9?", answers: ["72", "81", "90", "99"], correct: 1, explanation: "9 ×¤×¢××™× 9 ×–×” 81"},
                {q: "×›××” ×–×” 7Ã—8?", answers: ["49", "56", "63", "70"], correct: 1, explanation: "7 ×¤×¢××™× 8 ×–×” 56"},
                {q: "×›××” ×–×” 8Ã—9?", answers: ["64", "72", "80", "88"], correct: 1, explanation: "8 ×¤×¢××™× 9 ×–×” 72"},
                {q: "×›××” ×–×” 7Ã—9?", answers: ["56", "63", "70", "77"], correct: 1, explanation: "7 ×¤×¢××™× 9 ×–×” 63"},
                {q: "×›××” ×–×” 10Ã—7?", answers: ["60", "70", "80", "90"], correct: 1, explanation: "10 ×¤×¢××™× 7 ×–×” 70 - ×¤×©×•×˜ ×œ×”×•×¡×™×£ 0!"},
                {q: "×›××” ×–×” 8Ã—10?", answers: ["70", "80", "90", "100"], correct: 1, explanation: "8 ×¤×¢××™× 10 ×–×” 80"},
                {q: "×›××” ×–×” 9Ã—10?", answers: ["80", "90", "100", "110"], correct: 1, explanation: "9 ×¤×¢××™× 10 ×–×” 90"},
                {q: "×›××” ×–×” 7Ã—6?", answers: ["36", "42", "48", "54"], correct: 1, explanation: "7 ×¤×¢××™× 6 ×–×” 42"},
                {q: "×›××” ×–×” 8Ã—7?", answers: ["49", "56", "63", "70"], correct: 1, explanation: "8 ×¤×¢××™× 7 ×–×” 56"},
                {q: "×›××” ×–×” 9Ã—8?", answers: ["64", "72", "80", "88"], correct: 1, explanation: "9 ×¤×¢××™× 8 ×–×” 72"},
                {q: "×›××” ×–×” 10Ã—10?", answers: ["90", "100", "110", "120"], correct: 1, explanation: "10 ×¤×¢××™× 10 ×–×” 100 - ××¡×¤×¨ ×¢×’×•×œ ×•×™×¤×”!"},
                {q: "××” ×’×“×•×œ ×™×•×ª×¨: 7Ã—9 ××• 8Ã—8?", answers: ["7Ã—9", "8Ã—8", "×©×•×•×™×", "×œ× ×‘×¨×•×¨"], correct: 2, explanation: "7Ã—9=63 ×•-8Ã—8=64, ××– 8Ã—8 ×’×“×•×œ ×™×•×ª×¨ ×‘××¢×˜"},
                {q: "×›××” ×–×” 9Ã—7?", answers: ["56", "63", "70", "77"], correct: 1, explanation: "9 ×¤×¢××™× 7 ×–×” 63"}
            ],
            4: [ // ×¨××” 4: ×›×¤×œ ×•×—×™×œ×•×§ ×¢×“ 100
                {q: "?Ã—8 = 64", answers: ["6", "7", "8", "9"], correct: 2, explanation: "8 ×›×¤×•×œ 8 ×–×” 64"},
                {q: "81 Ã· 9 = ?", answers: ["7", "8", "9", "10"], correct: 2, explanation: "81 ×—×œ×§×™ 9 ×–×” 9"},
                {q: "×›××” ×–×” 12Ã—5?", answers: ["50", "55", "60", "65"], correct: 2, explanation: "12 ×¤×¢××™× 5 ×–×” 60"},
                {q: "?Ã—7 = 56", answers: ["6", "7", "8", "9"], correct: 2, explanation: "8 ×›×¤×•×œ 7 ×–×” 56"},
                {q: "72 Ã· 8 = ?", answers: ["7", "8", "9", "10"], correct: 2, explanation: "72 ×—×œ×§×™ 8 ×–×” 9"},
                {q: "×›××” ×–×” 15Ã—4?", answers: ["55", "60", "65", "70"], correct: 1, explanation: "15 ×¤×¢××™× 4 ×–×” 60"},
                {q: "?Ã—9 = 63", answers: ["6", "7", "8", "9"], correct: 1, explanation: "7 ×›×¤×•×œ 9 ×–×” 63"},
                {q: "96 Ã· 12 = ?", answers: ["6", "7", "8", "9"], correct: 2, explanation: "96 ×—×œ×§×™ 12 ×–×” 8"},
                {q: "×›××” ×–×” 11Ã—6?", answers: ["60", "66", "72", "78"], correct: 1, explanation: "11 ×¤×¢××™× 6 ×–×” 66"},
                {q: "?Ã—5 = 45", answers: ["7", "8", "9", "10"], correct: 2, explanation: "9 ×›×¤×•×œ 5 ×–×” 45"},
                {q: "84 Ã· 7 = ?", answers: ["10", "11", "12", "13"], correct: 2, explanation: "84 ×—×œ×§×™ 7 ×–×” 12"},
                {q: "×›××” ×–×” 13Ã—7?", answers: ["84", "91", "98", "105"], correct: 1, explanation: "13 ×¤×¢××™× 7 ×–×” 91"},
                {q: "?Ã—6 = 48", answers: ["6", "7", "8", "9"], correct: 2, explanation: "8 ×›×¤×•×œ 6 ×–×” 48"},
                {q: "××” ×’×“×•×œ ×™×•×ª×¨: 8Ã—11 ××• 9Ã—10?", answers: ["8Ã—11", "9Ã—10", "×©×•×•×™×", "×œ× ×‘×¨×•×¨"], correct: 2, explanation: "8Ã—11=88 ×•-9Ã—10=90, ××– 9Ã—10 ×’×“×•×œ ×™×•×ª×¨"},
                {q: "100 Ã· 10 = ?", answers: ["9", "10", "11", "12"], correct: 1, explanation: "100 ×—×œ×§×™ 10 ×–×” 10"}
            ],
            5: [ // ×¨××” 5: ×¤×¢×•×œ×•×ª ××¢×•×¨×‘×•×ª
                {q: "6Ã—4 + 8 = ?", answers: ["30", "32", "34", "36"], correct: 1, explanation: "6Ã—4=24, ×•××– 24+8=32"},
                {q: "81 - 9Ã—9 = ?", answers: ["0", "9", "18", "27"], correct: 0, explanation: "9Ã—9=81, ×•××– 81-81=0"},
                {q: "7Ã—5 - 15 = ?", answers: ["15", "20", "25", "30"], correct: 1, explanation: "7Ã—5=35, ×•××– 35-15=20"},
                {q: "48 Ã· 6 + 12 = ?", answers: ["18", "20", "22", "24"], correct: 1, explanation: "48Ã·6=8, ×•××– 8+12=20"},
                {q: "5Ã—8 - 25 = ?", answers: ["10", "15", "20", "25"], correct: 1, explanation: "5Ã—8=40, ×•××– 40-25=15"},
                {q: "72 Ã· 9 + 16 = ?", answers: ["22", "24", "26", "28"], correct: 1, explanation: "72Ã·9=8, ×•××– 8+16=24"},
                {q: "9Ã—3 + 7 = ?", answers: ["32", "34", "36", "38"], correct: 1, explanation: "9Ã—3=27, ×•××– 27+7=34"},
                {q: "60 - 8Ã—7 = ?", answers: ["2", "4", "6", "8"], correct: 1, explanation: "8Ã—7=56, ×•××– 60-56=4"},
                {q: "6Ã—7 + 18 = ?", answers: ["58", "60", "62", "64"], correct: 1, explanation: "6Ã—7=42, ×•××– 42+18=60"},
                {q: "100 Ã· 4 - 15 = ?", answers: ["5", "10", "15", "20"], correct: 1, explanation: "100Ã·4=25, ×•××– 25-15=10"},
                {q: "8Ã—6 - 28 = ?", answers: ["18", "20", "22", "24"], correct: 1, explanation: "8Ã—6=48, ×•××– 48-28=20"},
                {q: "54 Ã· 6 + 21 = ?", answers: ["28", "30", "32", "34"], correct: 1, explanation: "54Ã·6=9, ×•××– 9+21=30"},
                {q: "7Ã—9 - 35 = ?", answers: ["26", "28", "30", "32"], correct: 1, explanation: "7Ã—9=63, ×•××– 63-35=28"},
                {q: "××” ×’×“×•×œ ×™×•×ª×¨: (6Ã—8)+4 ××• (7Ã—7)-1?", answers: ["6Ã—8+4", "7Ã—7-1", "×©×•×•×™×", "×œ× ×‘×¨×•×¨"], correct: 2, explanation: "6Ã—8+4=52 ×•-7Ã—7-1=48, ××– 6Ã—8+4 ×’×“×•×œ ×™×•×ª×¨"},
                {q: "96 Ã· 8 + 5Ã—3 = ?", answers: ["25", "27", "29", "31"], correct: 1, explanation: "96Ã·8=12, 5Ã—3=15, ×•××– 12+15=27"}
            ]
        };

        function startLevel(level) {
            currentLevel = level;
            currentQuestion = 1;
            correctAnswers = 0;
            questions = [...levelQuestions[level]]; // ×”×¢×ª×§ ×©×œ ×”×©××œ×•×ª
            shuffleArray(questions); // ×¢×¨×‘×‘ ××ª ×”×©××œ×•×ª
            currentQuestionIndex = 0;

            // ×”×¡×ª×¨ ××¡×š ×”×‘×™×ª ×•×”×¦×’ ××¡×š ×”××©×—×§
            document.getElementById('homeScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            document.querySelector('.back-btn').style.display = 'block';

            showQuestion();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function showQuestion() {
            if (currentQuestionIndex >= questions.length || currentQuestion > 15) {
                showSummary();
                return;
            }

            const question = questions[currentQuestionIndex];
            
            // ×¢×“×›×Ÿ ××ª ××¡×¤×¨ ×”×©××œ×” ×•×”×˜×§×¡×˜
            document.getElementById('questionNumber').textContent = `×¨××” ${currentLevel} - ×©××œ×” ${currentQuestion}`;
            document.getElementById('questionText').textContent = question.q;
            
            // ×¢×“×›×Ÿ ××ª ×¢××•×“×ª ×”×”×ª×§×“××•×ª
            const progress = (currentQuestion - 1) / 15 * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // ×¢×“×›×Ÿ ××ª ×”×ª×©×•×‘×•×ª
            const answersGrid = document.getElementById('answersGrid');
            const answerLabels = ['×', '×‘', '×’', '×“'];
            answersGrid.innerHTML = '';
            
            for (let i = 0; i < 4; i++) {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = `${answerLabels[i]}. ${question.answers[i]}`;
                btn.onclick = () => selectAnswer(i, btn);
                answersGrid.appendChild(btn);
            }
            
            // ×”×¡×ª×¨ ×¤×™×“×‘×§ ×•×›×¤×ª×•×¨ ×”×‘×
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            
            // ××¤×¡ ×¦×‘×¢×™ ×›×¤×ª×•×¨×™×
            document.querySelectorAll('.answer-btn').forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
            });
        }

        function selectAnswer(answerIndex, buttonElement) {
            const question = questions[currentQuestionIndex];
            const feedback = document.getElementById('feedback');
            const isCorrect = answerIndex === question.correct;
            
            // ×”×©×‘×ª ××ª ×›×œ ×”×›×¤×ª×•×¨×™×
            document.querySelectorAll('.answer-btn').forEach(btn => btn.disabled = true);
            
            // ×¦×‘×¢ ××ª ×”×›×¤×ª×•×¨ ×”× ×›×•×Ÿ
            const buttons = document.querySelectorAll('.answer-btn');
            buttons[question.correct].classList.add('correct');
            
            if (isCorrect) {
                correctAnswers++;
                feedback.className = 'feedback correct';
                feedback.innerHTML = `ğŸ‰ × ×›×•×Ÿ! ${question.explanation}`;
            } else {
                buttonElement.classList.add('incorrect');
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `âŒ ×œ× ×‘×“×™×•×§, ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™× ${['×', '×‘', '×’', '×“'][question.correct]}. ${question.explanation}`;
            }
            
            feedback.style.display = 'block';
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQuestion++;
            currentQuestionIndex++;
            
            // ××¤×¡ ×›×¤×ª×•×¨×™×
            document.querySelectorAll('.answer-btn').forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('correct', 'incorrect');
            });
            
            showQuestion();
        }

        function showSummary() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('summaryScreen').style.display = 'block';
            
            const scoreCircle = document.getElementById('scoreCircle');
            const summaryText = document.getElementById('summaryText');
            
            scoreCircle.textContent = `${correctAnswers}/15`;
            
            let message = '';
            let encouragement = '';
            
            if (correctAnswers >= 14) {
                message = 'ğŸŒŸ ×¤× ×˜×¡×˜×™! ××ª×” ×××¡×˜×¨ ×©×œ ×œ×•×— ×”×›×¤×œ!';
                encouragement = '×‘×™×¦×•×¢×™× ××•×©×œ××™×! ××ª×” ××•×›×Ÿ ×œ×›×œ ××ª×’×¨! ğŸ†';
            } else if (correctAnswers >= 12) {
                message = 'ğŸ¯ ××¢×•×œ×”! ×™×© ×œ×š ×©×œ×™×˜×” ×˜×•×‘×” ×‘×œ×•×— ×”×›×¤×œ';
                encouragement = '×›××¢×˜ ××•×©×œ×! ×”××©×š ×œ×ª×¨×’×œ ×•×ª×’×™×¢ ×œ××¦×•×™× ×•×ª! ğŸ’ª';
            } else if (correctAnswers >= 9) {
                message = 'ğŸ‘ ×™×¤×” ×××•×“! ××ª×” ××ª×§×“× ×˜×•×‘';
                encouragement = '×‘×™×¦×•×¢×™× ×˜×•×‘×™×! ×¢× ×¢×•×“ ×§×¦×ª ×ª×¨×’×•×œ ×ª×”×™×” ××•×©×œ×! ğŸ“š';
            } else if (correctAnswers >= 6) {
                message = 'ğŸ˜Š ×‘×¡×“×¨ ×’××•×¨! ×™×© ××§×•× ×œ×©×™×¤×•×¨';
                encouragement = '××œ ×ª×ª×™×™××©! ×›×œ ×ª×¨×’×•×œ ××§×“× ××•×ª×š ×§×“×™××”! ğŸŒ±';
            } else {
                message = 'ğŸ’™ ×–×” ×‘×¡×“×¨, ×›×•×œ× ×• ×œ×•××“×™×!';
                encouragement = '××œ ×ª×•×•×ª×¨! ×¢× ×ª×¨×’×•×œ ×ª×’×™×¢ ×œ×›×œ ××§×•×! ğŸš€';
            }
            
            summaryText.innerHTML = `
                <p style="font-size: 1.3em; margin: 20px 0;">${message}</p>
                <p style="color: #666; margin: 15px 0; font-size: 1.1em;">×¤×ª×¨×ª × ×›×•×Ÿ ${correctAnswers} ××ª×•×š 15 ×©××œ×•×ª</p>
                <p style="color: #4a90e2; margin: 15px 0; font-weight: bold;">${encouragement}</p>
            `;
        }

        function nextLevel() {
            if (currentLevel < 5) {
                startLevel(currentLevel + 1);
            } else {
                alert('ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª ××ª ×›×œ ×”×¨××•×ª! ××ª×” ×××¡×˜×¨ ××ª××˜×™×§×” ×××™×ª×™!');
                goHome();
            }
        }

        function goHome() {
            document.getElementById('homeScreen').style.display = 'block';
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('summaryScreen').style.display = 'none';
            document.querySelector('.back-btn').style.display = 'none';
        }

        // ×”×•×¡×£ ××¤×§×˜×™× × ×•×¡×¤×™×
        document.addEventListener('DOMContentLoaded', function() {
            // ×× ×™××¦×™×” ×œ×™×›×•×œ×•×ª ×”×›×¨×˜×™×¡×™×
            const levelCards = document.querySelectorAll('.level-card');
            levelCards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>